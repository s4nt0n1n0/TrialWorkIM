<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tabeya Home</title>
    <link rel="stylesheet" href="CSS/Home.css">
    <link rel="stylesheet" href="CSS/Footer.css">
</head>

<body>
    <header>
        <div class="logo">
            <img src="Photo/Tabeya Name.png" alt="Tabeya Logo">
        </div>
        <nav class="nav-links">
            <a href="Home.html" class="active">HOME</a>
            <a href="Menu.html">MENU</a>
            <a href="#" id="cater-reservation-link">CATER RESERVATION</a>
            <a href="Review.php">TESTIMONY</a>
            <a href="About.html">ABOUT</a>
        </nav>
        <div class="header-right">
            <a href="Login.html" id="account-link">PROFILE</a>
            <div class="cart-icon" id="view-cart-btn">
                <a href="Cart.html" style="text-decoration: none; color: inherit;">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="9" cy="21" r="1"></circle>
                        <circle cx="20" cy="21" r="1"></circle>
                        <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
                    </svg>
                    <span class="cart-count" id="cart-item-count">0</span>
                </a>
            </div>
        </div>
    </header>

    <main>
        <section class="hero-section">
            <div class="logo-container">
                <img src="Photo/Tabeya Name1.png" alt="Tabeya Logo">
            </div>
        </section>

        <section class="offerings-section">
            <div class="h1-container">
                <h1>WHAT WE OFFER</h1>
            </div>
            <div class="offerings">
                <div class="item" onclick="window.location.href='Menu.html#Rice-Meal'">
                    <img src="Photo/javanok.jpeg" alt="Rice Meals">
                    <div>
                        <h2>RICE MEALS</h2>
                        <p>A hearty and satisfying dish, our Rice Meal is a perfect combination of perfectly cooked rice
                            served with your choice of flavorful meat, fresh vegetables, and delicious sauces. Whether
                            you prefer chicken, beef, or seafood, our rice meals are designed to keep you full and
                            content. Ideal for lunch or dinner, it’s a classic Filipino favorite that brings comfort in
                            every bite.</p>
                    </div>
                </div>
                <div class="item" onclick="window.location.href='Menu.html#Platter'">
                    <img src="Photo/gegs.jpeg" alt="Platters">
                    <div>
                        <h2>PLATTER</h2>
                        <p>Our Platter is a generous serving of various savory delights, perfect for sharing with
                            friends and family. Featuring a variety of grilled meats, crispy appetizers, and flavorful
                            dips, this platter brings together the best of Filipino flavors in one delicious spread.
                            Ideal for parties or gatherings, it’s the perfect way to enjoy a variety of dishes without
                            the hassle.</p>
                    </div>
                </div>
                <div class="item" onclick="window.location.href='Menu.html#Dessert'">
                    <img src="Photo/halo.jpeg" alt="Desserts">
                    <div>
                        <h2>DESSERTS</h2>
                        <p>Indulge your sweet tooth with our selection of irresistible Filipino desserts. From the
                            creamy goodness of Leche Flan to the tropical flavors of Halo-Halo, each dessert is made
                            with the finest ingredients to give you a refreshing and delightful end to your meal.
                            Perfect for anyone who loves a sweet treat, our desserts bring the perfect balance of
                            richness and lightness to satisfy your cravings.</p>
                    </div>
                </div>
                <div class="item" onclick="window.location.href='Menu.html#Spaghetti-Meals'">
                    <img src="Photo/spagspag.jpeg" alt="Spaghetti">
                    <div>
                        <h2>SPAGHETTI</h2>
                        <p>Our Spaghetti is a deliciously rich, Filipino-style pasta dish that combines the savory
                            sweetness of tomato sauce, seasoned with special herbs and spices, and topped with perfectly
                            cooked meatballs or savory hotdogs. A family favorite, this dish is sure to make every meal
                            feel like a celebration. Perfect for both kids and adults, it’s a crowd-pleaser with every
                            bite!</p>
                    </div>
                </div>
                <div class="item" onclick="window.location.href='Menu.html#NOODLES-&-PASTA'">
                    <img src="Photo/333.jpeg" alt="Bilao">
                    <div>
                        <h2>BILAO</h2>
                        <p>A Bilao is a traditional Filipino feast served in a large round tray, perfect for sharing
                            with family and friends. It features an assortment of dishes including rice, grilled meats,
                            seafood, vegetables, and dipping sauces, all arranged beautifully for a vibrant and festive
                            meal. Whether you’re celebrating a special occasion or enjoying a casual meal with loved
                            ones, our Bilao is designed to bring people together over a delightful spread of classic
                            Filipino flavors.</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="info-section">
            <h3 class="quote">KEEPING TASTE TRADITION ALIVE SINCE 2003</h3>
            <div class="quote-with-border">
                <h3>OPEN DAILY</h3>
                <p>8AM - 8PM</p>
            </div>
            <h3 class="quote3">Poblacion 2, Vinzons Avenue, Vinzons, Camarines Norte</h3>
        </section>
    </main>

    <!-- Cart Modal Removed -->

    <footer>
        <div class="contact-section">
            <div class="contact-info">
                <h2>Contact Us</h2>
                <p>Have any questions? We'd love to hear from you.</p>
                <div class="contact-grid">
                    <div class="contact-item">
                        <img src="Photo/VisitUs.png" alt="Location">
                        <div class="contact-item-text">
                            <strong>Visit us</strong>
                            <p>Poblacion 2, Vinzons Avenue,<br>Vinzons, CN</p>
                        </div>
                    </div>
                    <div class="contact-item">
                        <img src="Photo/Selpon.png" alt="Phone">
                        <div class="contact-item-text">
                            <strong>Call us</strong>
                            <p>09380839641</p>
                        </div>
                    </div>
                    <div class="contact-item">
                        <img src="Photo/Facebook.png" alt="Facebook">
                        <div class="contact-item-text">
                            <strong>Connect</strong>
                            <p><a href="https://www.facebook.com/profile.php?id=100063540027038" target="_blank">Tabeya,
                                    VCN</a></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <script>
        const CART_KEY = 'tabeyaCart';
        const USER_KEY = 'currentUser';
        const LOGIN_PAGE = 'Login.html';
        const PROFILE_PAGE = 'Profile.html';
        const CATER_RESERVATION_PAGE = 'CaterReservation.html';

        const cartCountElement = document.getElementById('cart-item-count');

        let cart = JSON.parse(localStorage.getItem(CART_KEY)) || [];

        // --- Core Login Check ---
        function checkUserLoginStatus() {
            return localStorage.getItem(USER_KEY) !== null;
        }

        function checkLoginAndProceed(redirectTarget) {
            if (!checkUserLoginStatus()) {
                alert("You must log in to perform this action.");
                if (redirectTarget) {
                    localStorage.setItem('redirectAfterLogin', redirectTarget);
                }
                window.location.href = LOGIN_PAGE;
                return false;
            }
            return true;
        }

        // --- Account Link State ---
        function updateAccountLink() {
            const accountLink = document.getElementById('account-link');
            if (!accountLink) return;

            const user = JSON.parse(localStorage.getItem(USER_KEY));

            if (user) {
                // Logged In: Show name and directly link to Profile.html
                accountLink.textContent = user.name.split(' ')[0].toUpperCase();
                accountLink.href = PROFILE_PAGE;
            } else {
                // Logged Out: Show 'PROFILE' and link to Login
                accountLink.textContent = 'PROFILE';
                accountLink.href = LOGIN_PAGE;
            }
        }

        // --- Cart Management Logic ---
        function updateCartDisplay() {
            const count = cart.reduce((total, item) => total + item.quantity, 0);
            if (cartCountElement) {
                cartCountElement.textContent = count;
            }
        }

        function saveCart() {
            localStorage.setItem(CART_KEY, JSON.stringify(cart));
            updateCartDisplay();
        }

        // Modal rendering logic removed

        // --- Attach Global Listeners (Simplified) ---
        function attachGlobalListeners() {
            // Cart button is now a direct link, no JS needed for it.

            // Cater Reservation link (FIXED)
            document.getElementById('cater-reservation-link').addEventListener('click', function (event) {
                event.preventDefault();
                // Check login status. If true (logged in), proceed with the redirect.
                if (checkLoginAndProceed(CATER_RESERVATION_PAGE)) {
                    window.location.href = CATER_RESERVATION_PAGE;
                }
            });
        }

        // --- INITIALIZATION ---
        document.addEventListener('DOMContentLoaded', () => {
            updateCartDisplay();
            updateAccountLink();
            attachGlobalListeners();
        });
    </script>
</body>

</html>